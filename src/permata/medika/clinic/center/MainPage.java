/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package permata.medika.clinic.center;

import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import javax.swing.JButton;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author nico
 */
public class MainPage extends javax.swing.JFrame {

    /**
     * Creates new form MainPage
     */

    public MainPage() {
        initComponents();
        clicked_link_dashboard.setVisible(true);
        clicked_link_pasien.setVisible(false);
        clicked_link_rekammedis.setVisible(false);
        clicked_link_logout.setVisible(false);
        setJumlahRM();
        setJumlahDokter();
        //setJumlahPoli();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panel_sidebar = new javax.swing.JPanel();
        link_dashboard = new javax.swing.JLabel();
        link_pendaftaran_pasien = new javax.swing.JLabel();
        link_rekam_medis = new javax.swing.JLabel();
        link_logout = new javax.swing.JLabel();
        clicked_link_logout = new javax.swing.JLabel();
        clicked_link_dashboard = new javax.swing.JLabel();
        clicked_link_pasien = new javax.swing.JLabel();
        clicked_link_rekammedis = new javax.swing.JLabel();
        sidebar = new javax.swing.JLabel();
        panel_content = new javax.swing.JPanel();
        menu_dashboard = new javax.swing.JPanel();
        lbl_jumlah_poli = new javax.swing.JLabel();
        lbl_jumlah_dokter = new javax.swing.JLabel();
        lbl_total_pasien = new javax.swing.JLabel();
        bg_dashboard = new javax.swing.JLabel();
        menu_pendaftaran = new javax.swing.JPanel();
        bg_pendaftaran = new javax.swing.JLabel();
        menu_rekammedis = new javax.swing.JPanel();
        bg_rekammedis = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        getContentPane().setLayout(null);

        panel_sidebar.setLayout(null);

        link_dashboard.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                link_dashboardMouseClicked(evt);
            }
        });
        panel_sidebar.add(link_dashboard);
        link_dashboard.setBounds(20, 160, 200, 50);

        link_pendaftaran_pasien.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                link_pendaftaran_pasienMouseClicked(evt);
            }
        });
        panel_sidebar.add(link_pendaftaran_pasien);
        link_pendaftaran_pasien.setBounds(15, 226, 210, 40);

        link_rekam_medis.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                link_rekam_medisMouseClicked(evt);
            }
        });
        panel_sidebar.add(link_rekam_medis);
        link_rekam_medis.setBounds(20, 290, 200, 40);

        link_logout.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                link_logoutMouseClicked(evt);
            }
        });
        panel_sidebar.add(link_logout);
        link_logout.setBounds(20, 350, 200, 50);

        clicked_link_logout.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/effect/link-logout-white.png"))); // NOI18N
        clicked_link_logout.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                clicked_link_logoutMouseClicked(evt);
            }
        });
        panel_sidebar.add(clicked_link_logout);
        clicked_link_logout.setBounds(12, 348, 220, 50);

        clicked_link_dashboard.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/effect/link-dashbord-white.png"))); // NOI18N
        clicked_link_dashboard.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                clicked_link_dashboardMouseClicked(evt);
            }
        });
        panel_sidebar.add(clicked_link_dashboard);
        clicked_link_dashboard.setBounds(12, 159, 220, 50);

        clicked_link_pasien.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/effect/link-pendaftaran-white.png"))); // NOI18N
        clicked_link_pasien.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                clicked_link_pasienMouseClicked(evt);
            }
        });
        panel_sidebar.add(clicked_link_pasien);
        clicked_link_pasien.setBounds(12, 219, 220, 50);

        clicked_link_rekammedis.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/effect/link-rekammedis-white.png"))); // NOI18N
        clicked_link_rekammedis.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                clicked_link_rekammedisMouseClicked(evt);
            }
        });
        panel_sidebar.add(clicked_link_rekammedis);
        clicked_link_rekammedis.setBounds(12, 283, 220, 50);

        sidebar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/sidebar.png"))); // NOI18N
        panel_sidebar.add(sidebar);
        sidebar.setBounds(0, 0, 236, 856);

        getContentPane().add(panel_sidebar);
        panel_sidebar.setBounds(0, 0, 236, 860);

        panel_content.setLayout(null);

        menu_dashboard.setBackground(new java.awt.Color(102, 255, 0));
        menu_dashboard.setLayout(null);

        lbl_jumlah_poli.setFont(new java.awt.Font("Helvetica Neue", 1, 64)); // NOI18N
        lbl_jumlah_poli.setForeground(new java.awt.Color(255, 255, 255));
        lbl_jumlah_poli.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_jumlah_poli.setText("0");
        menu_dashboard.add(lbl_jumlah_poli);
        lbl_jumlah_poli.setBounds(1010, 230, 36, 100);

        lbl_jumlah_dokter.setFont(new java.awt.Font("Helvetica Neue", 1, 64)); // NOI18N
        lbl_jumlah_dokter.setForeground(new java.awt.Color(255, 255, 255));
        lbl_jumlah_dokter.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_jumlah_dokter.setText("0");
        menu_dashboard.add(lbl_jumlah_dokter);
        lbl_jumlah_dokter.setBounds(640, 230, 36, 100);

        lbl_total_pasien.setFont(new java.awt.Font("Helvetica Neue", 1, 64)); // NOI18N
        lbl_total_pasien.setForeground(new java.awt.Color(255, 255, 255));
        lbl_total_pasien.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_total_pasien.setText("0");
        menu_dashboard.add(lbl_total_pasien);
        lbl_total_pasien.setBounds(280, 230, 36, 100);

        bg_dashboard.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/Panel - Dashboard - Admin.png"))); // NOI18N
        menu_dashboard.add(bg_dashboard);
        bg_dashboard.setBounds(0, 0, 1276, 856);

        panel_content.add(menu_dashboard);
        menu_dashboard.setBounds(0, 0, 1276, 856);

        menu_pendaftaran.setBackground(new java.awt.Color(102, 255, 0));
        menu_pendaftaran.setLayout(null);

        bg_pendaftaran.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/Panel - Pendaftaran - Admin.png"))); // NOI18N
        menu_pendaftaran.add(bg_pendaftaran);
        bg_pendaftaran.setBounds(0, 0, 1276, 856);

        panel_content.add(menu_pendaftaran);
        menu_pendaftaran.setBounds(0, 0, 1276, 856);

        menu_rekammedis.setBackground(new java.awt.Color(102, 255, 0));
        menu_rekammedis.setLayout(null);

        bg_rekammedis.setIcon(new javax.swing.ImageIcon(getClass().getResource("/image/Panel - Rekam Medis - Admin.png"))); // NOI18N
        menu_rekammedis.add(bg_rekammedis);
        bg_rekammedis.setBounds(0, 0, 1276, 856);

        panel_content.add(menu_rekammedis);
        menu_rekammedis.setBounds(0, 0, 1276, 856);

        getContentPane().add(panel_content);
        panel_content.setBounds(240, 0, 1270, 860);

        setBounds(0, 0, 1512, 884);
    }// </editor-fold>//GEN-END:initComponents

//    public void addData(){
//        try {
//            String sql = "INSERT INTO tb_pasien(id_pasien) VALUES (?)";
//            java.sql.Connection conn = (Connection) config.configDB();
//            java.sql.PreparedStatement pst = conn.prepareStatement(sql);
//
//            pst.setString(1, tf_nama.getText());
//
//            pst.executeUpdate();
//            JOptionPane.showMessageDialog(null, "Penyimpanan Data Berhasil");
//        } catch (Exception e) {
//            JOptionPane.showMessageDialog(this, e.getMessage());
//        }                  
//    }
//    
    public static List<String[]> getData() {
        List<String[]> dataList = new ArrayList<>();

        try {
            String sql = "select * from tb_rekam_medis";
            java.sql.Connection conn = (Connection) config.configDB();
            java.sql.Statement stm = conn.createStatement();
            java.sql.ResultSet res = stm.executeQuery(sql);

            while (res.next()) {
                String[] rowData = new String[]{
                    res.getString(1),
                    res.getString(2),
                    res.getString(3),
                    res.getString(4),
                    res.getString(5),
                    res.getString(6),
                    res.getString(7)
                };

                dataList.add(rowData);
                System.out.println(Arrays.toString(rowData));
            }
        } catch (Exception e) {
            System.err.println("koneksi gagal " + e.getMessage());
        }

        return dataList;
    }
    
    public void setJumlahRM(){
        String hasil = null;
        try {
            String sql = "SELECT count('id_rekam_medis') as jumlah_rekam_medis FROM `tb_rekam_medis`";
            java.sql.Connection conn = (Connection) config.configDB();
            java.sql.Statement stm = conn.createStatement();
            java.sql.ResultSet res = stm.executeQuery(sql);
            
            if(res.next()){
                lbl_total_pasien.setText(res.getString(1));
            }else{
                System.out.println("tidak ada data");
            }
        } catch (Exception e) {
            System.err.println("koneksi gagal " + e.getMessage());
        }
    }
    
    public void setJumlahDokter(){
        try {
            String sql = "SELECT count('id_karyawan') as jumlah_dokter FROM `tb_karyawan` where status_karyawan = 'dokter'";
            java.sql.Connection conn = (Connection) config.configDB();
            java.sql.Statement stm = conn.createStatement();
            java.sql.ResultSet res = stm.executeQuery(sql);
            
            if(res.next()){
                lbl_jumlah_dokter.setText(res.getString(1));
            }else{
                System.out.println("tidak ada data");
            }
        } catch (Exception e) {
            System.err.println("koneksi gagal " + e.getMessage());
        }
    }
    
    public void setJumlahPoli(){
        String jumlah_poli = null;
        try {
            String sql = "SELECT count('id_poli') as jumlah_poli FROM `tb_poli`";
            java.sql.Connection conn = (Connection) config.configDB();
            java.sql.Statement stm = conn.createStatement();
            java.sql.ResultSet res = stm.executeQuery(sql);
            
            if(res.next()){
                lbl_jumlah_poli.setText(res.getString(1));
            }else{
                System.out.println("tidak ada data");
            }
        } catch (Exception e) {
            System.err.println("koneksi gagal " + e.getMessage());
        }
    }

    private void link_pendaftaran_pasienMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_link_pendaftaran_pasienMouseClicked

        panel_content.removeAll();
        panel_content.repaint();
        panel_content.revalidate();
        
        panel_content.add(menu_pendaftaran);
        panel_content.repaint();
        panel_content.revalidate();
        
        clicked_link_dashboard.setVisible(false);
        clicked_link_pasien.setVisible(true);
        clicked_link_rekammedis.setVisible(false);
        clicked_link_logout.setVisible(false);
    }//GEN-LAST:event_link_pendaftaran_pasienMouseClicked

    private void link_dashboardMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_link_dashboardMouseClicked
        panel_content.removeAll();
        panel_content.repaint();
        panel_content.revalidate();
        
        panel_content.add(menu_dashboard);
        panel_content.repaint();
        panel_content.revalidate();
        
        clicked_link_dashboard.setVisible(true);
        clicked_link_pasien.setVisible(false);
        clicked_link_rekammedis.setVisible(false);
        clicked_link_logout.setVisible(false);
        setJumlahRM();
        setJumlahDokter();
        setJumlahPoli();
    }//GEN-LAST:event_link_dashboardMouseClicked

    private void link_rekam_medisMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_link_rekam_medisMouseClicked

        panel_content.removeAll();
        panel_content.repaint();
        panel_content.revalidate();
        
        panel_content.add(menu_rekammedis);
        panel_content.repaint();
        panel_content.revalidate();
//        List<String[]> rowData = getData();
//        if (rowData != null) {
//            rekamMedis.updateTable(rowData);
//        } else {
//            System.out.println("data dari db kososng");
//        }
        clicked_link_dashboard.setVisible(false);
        clicked_link_pasien.setVisible(false);
        clicked_link_rekammedis.setVisible(true);
        clicked_link_logout.setVisible(false);
    }//GEN-LAST:event_link_rekam_medisMouseClicked

    private void link_logoutMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_link_logoutMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_link_logoutMouseClicked

    private void clicked_link_dashboardMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_clicked_link_dashboardMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_clicked_link_dashboardMouseClicked

    private void clicked_link_pasienMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_clicked_link_pasienMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_clicked_link_pasienMouseClicked

    private void clicked_link_rekammedisMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_clicked_link_rekammedisMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_clicked_link_rekammedisMouseClicked

    private void clicked_link_logoutMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_clicked_link_logoutMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_clicked_link_logoutMouseClicked

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new MainPage().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel bg_dashboard;
    private javax.swing.JLabel bg_pendaftaran;
    private javax.swing.JLabel bg_rekammedis;
    private javax.swing.JLabel clicked_link_dashboard;
    private javax.swing.JLabel clicked_link_logout;
    private javax.swing.JLabel clicked_link_pasien;
    private javax.swing.JLabel clicked_link_rekammedis;
    private javax.swing.JLabel lbl_jumlah_dokter;
    private javax.swing.JLabel lbl_jumlah_poli;
    private javax.swing.JLabel lbl_total_pasien;
    private javax.swing.JLabel link_dashboard;
    private javax.swing.JLabel link_logout;
    private javax.swing.JLabel link_pendaftaran_pasien;
    private javax.swing.JLabel link_rekam_medis;
    private javax.swing.JPanel menu_dashboard;
    private javax.swing.JPanel menu_pendaftaran;
    private javax.swing.JPanel menu_rekammedis;
    private javax.swing.JPanel panel_content;
    private javax.swing.JPanel panel_sidebar;
    private javax.swing.JLabel sidebar;
    // End of variables declaration//GEN-END:variables
}
